grammar org.mde.spec.Spec with org.eclipse.xtext.common.Terminals

generate spec "http://www.mde.org/spec/Spec"

Model:
	commands+=Command*;
	
Command:
	OpenCommand
  | ClickCommand
  | CommentCommand
  | SelectCommand
  | RememberCommand
  | PropertyCommand
  | TypeCommand
  | SleepCommand
  | CustomCommand
;

OpenCommand:
	"Open" value=Value
;

ClickCommand:
	cmd="Click"
  | "Click" "on" selector=Selector
  | "Click" "at" point=Point
;


CommentCommand:
	"#" str=STRING
;

SelectCommand:
	"Within" value=Selector
  | "Select" value=Selector
  | "Select" "visible" value=Selector
;

RememberCommand:
	"Remember" prop=Property "as" var=Variable
;

PropertyCommand:
	"Property" prop=Property cond=Condition val=Value
;
	
TypeCommand:
	"Type" val=Value
;

SleepCommand:
	"Sleep" "for" time=INT ("second" | "seconds")
;

CustomCommand:
	"!" command=STRING
;

enum ElementType:
    button="button"
  | element="element"
  | link="link"
  | input="input"
  | textarea="textarea"
;

Selector:
    val=STRING                
  | type=ElementType val=STRING
  | type=ElementType val=STRING
  | var=Variable                
  | type=ElementType var=Variable
;

Property:
	PropertyType
;

PropertyType:
    "text"
  | "class"
  | "value"
;

Value:
	val=Variable
  | str=STRING
;

Condition:
	"should" "be"
  | "should" "not" "be"
;

Point:
	"{" INT "," INT "}"
;

Variable:
	"$" name=STRING // fix this
;