/*
 * generated by Xtext 2.20.0
 */
package org.mde.spec.validation

import org.eclipse.xtext.validation.Check
import org.mde.spec.spec.Variable
import org.mde.spec.spec.SpecPackage
import org.mde.spec.spec.OpenCommand

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class SpecValidator extends AbstractSpecValidator {

	@Check(FAST)
	def void checkVariableStartsWithDollar(Variable v) {
		if (v.getName().charAt(0) != "$") {
			warning("A variable must be used with a '$' preceding it", SpecPackage.Literals.VARIABLE__NAME) 
		}
	}
	
	def void checkVariableReferenced(OpenCommand c) {
		c.eAllContents.forEach[x | print("«x»")]
	}
	
	@Check(FAST)
	def void checkNameStartsWithLowerCase(Variable v) {
		if (Character::isUpperCase(v.getName().charAt(0))) {
			warning("A variable name should be in camelCase", SpecPackage.Literals.VARIABLE__NAME);
		}
	}
	
	
	@Check(FAST)
	def void checkUrlIsWellDefined(){}
}
